/*! knockoutjs-sparkline - v1.0.1 - 15-11-2014 */
define(["jquery","knockout","moment","sparkline"],function(a,b,c){b.bindingHandlers.sparkLine={data:[],defaults:{type:"line",height:"22px",width:"80px",fillColor:"#72e572",lineColor:"#000000",spotColor:"#f08000",minSpotColor:void 0,maxSpotColor:void 0,highlightSpotColor:void 0,highlightLineColor:void 0,chartRangeMin:-20,chartRangeMax:100,normalRangeMin:5,normalRangeMax:60,normalRangeColor:"#e55e5b",drawNormalOnTop:!0,tooltipFormatter:function(a,c,d){return b.bindingHandlers.sparkLine.epochToLocal(d.x)+": "+d.y},timeWindowMin:144e5,timeWindowMax:6e4,dateFormat:"LLLL"},epochToLocal:function(a){return a?c(a).format(b.bindingHandlers.sparkLine.defaults.dateFormat):void 0},init:function(c,d,e){var f=d()||{},g=b.unwrap(f);b.bindingHandlers.sparkLine.data=g,e().hasOwnProperty("sparkType")&&(b.bindingHandlers.sparkLine.defaults.type=e().sparkType),e().hasOwnProperty("sparkHeight")&&(b.bindingHandlers.sparkLine.defaults.height=e().sparkHeight),e().hasOwnProperty("sparkWidth")&&(b.bindingHandlers.sparkLine.defaults.width=e().sparkWidth),e().hasOwnProperty("sparkChartRangeMin")&&(b.bindingHandlers.sparkLine.defaults.chartRangeMin=e().sparkChartRangeMin),e().hasOwnProperty("sparkChartRangeMax")&&(b.bindingHandlers.sparkLine.defaults.chartRangeMax=e().sparkChartRangeMax),e().hasOwnProperty("sparkNormalRangeMin")&&(b.bindingHandlers.sparkLine.defaults.normalRangeMin=e().sparkNormalRangeMin),e().hasOwnProperty("sparkNormalRangeMax")&&(b.bindingHandlers.sparkLine.defaults.normalRangeMax=e().sparkNormalRangeMax),e().hasOwnProperty("sparkFillColor")&&(b.bindingHandlers.sparkLine.defaults.fillColor=e().sparkFillColor),e().hasOwnProperty("sparkLineColor")&&(b.bindingHandlers.sparkLine.defaults.lineColor=e().sparkLineColor),e().hasOwnProperty("sparkSpotColor")&&(b.bindingHandlers.sparkLine.defaults.spotColor=e().sparkSpotColor),e().hasOwnProperty("sparkNormalRangeColor")&&(b.bindingHandlers.sparkLine.defaults.normalRangeColor=e().sparkNormalRangeColor),e().hasOwnProperty("sparkChartRangeMinX")&&(b.bindingHandlers.sparkLine.defaults.chartRangeMinX=e().sparkChartRangeMinX),e().hasOwnProperty("sparkChartRangeMaxX")&&(b.bindingHandlers.sparkLine.defaults.chartRangeMaxX=e().sparkChartRangeMaxX),e().hasOwnProperty("sparkTimeWindowMin")&&(b.bindingHandlers.sparkLine.defaults.timeWindowMin=e().sparkTimeWindowMin),e().hasOwnProperty("sparkTimeWindowMax")&&(b.bindingHandlers.sparkLine.defaults.timeWindowMax=e().sparkTimeWindowMax),e().hasOwnProperty("sparkDateformat")&&(b.bindingHandlers.sparkLine.defaults.dateFormat=e().sparkDateformat),e().hasOwnProperty("sparkTooltipFormatter")&&(b.bindingHandlers.sparkLine.defaults.tooltipFormatter=e().sparkTooltipFormatter);var h=(new Date).getTime();b.bindingHandlers.sparkLine.defaults.chartRangeMinX=h-b.bindingHandlers.sparkLine.defaults.timeWindowMin,b.bindingHandlers.sparkLine.defaults.chartRangeMaxX=h-b.bindingHandlers.sparkLine.defaults.timeWindowMan,a(c).sparkline(b.bindingHandlers.sparkLine.data,b.bindingHandlers.sparkLine.defaults)},update:function(c,d){var e=d()||{},f=b.unwrap(e);b.bindingHandlers.sparkLine.data=f;var g=(new Date).getTime();b.bindingHandlers.sparkLine.defaults.chartRangeMinX=g-b.bindingHandlers.sparkLine.defaults.timeWindowMin,b.bindingHandlers.sparkLine.defaults.chartRangeMaxX=g-b.bindingHandlers.sparkLine.defaults.timeWindowMan,a(c).sparkline(b.bindingHandlers.sparkLine.data,b.bindingHandlers.sparkLine.defaults)}}});